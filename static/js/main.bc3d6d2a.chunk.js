(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){e.exports=a(277)},146:function(e,t,a){},201:function(e,t,a){},218:function(e,t,a){},277:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(23),s=a.n(o),i=(a(146),a(13)),m=a(15),u=a(18),l=a(16),h=a(17),p=a(51),f=a(286),d=a(34),g=a(137);function b(e){return{type:n.SearchGamesResponse,response:e}}!function(e){e.SearchGamesAsync="SearchGamesAsync",e.SearchGamesResponse="SearchGamesResponse"}(n||(n={}));var v={response:void 0};var j=Object(d.c)({searchGames:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SearchGamesAsync:return e;case n.SearchGamesResponse:return{response:t.response};default:return e}}}),O=a(39),w=a.n(O),y=a(44);var E={api:{endpoint:"https://ojxt0rm912.execute-api.us-east-1.amazonaws.com/latest"}};function L(e){var t="".concat(E.api.endpoint,"/lol/games/streamer/").concat(e.twitchLogin,"/summoner/").concat(e.summonerName,"/champion/").concat(e.championName);return fetch(t).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){throw console.error("searchGames failed"+JSON.stringify(e)),"searchGames failed"})}var N=w.a.mark(S),G=w.a.mark(k);function S(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(y.b)(L,e.request);case 2:return t=a.sent,a.next=5,Object(y.d)(b(t));case 5:case"end":return a.stop()}},N,this)}function k(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)(n.SearchGamesAsync,S);case 2:case"end":return e.stop()}},G,this)}var C=w.a.mark(x);function x(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.c)(k)]);case 2:case"end":return e.stop()}},C,this)}var V=x,R=function(){var e=Object(g.a)(),t=Object(d.e)(j,Object(d.a)(e));return e.run(V),t},A=a(285),I=a(281),q=a(199),D=a(198),F=a(279);function T(e,t){return{request:t.request,response:e.searchGames.response}}function z(e){return{searchGames:function(t){return e(function(e){return{type:n.SearchGamesAsync,request:e}}(t))}}}a(201);var J,H=a(126),B=a.n(H),M=a(204),P=a(283),U=a(207),W=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.gameVideos.map(function(t){var a=c.a.createElement("span",null,t.video.title," | ",t.summoner.name," as ",t.champion.name),n=t.game.id+"-"+t.video.id,r=B()(1e3*t.game.startTimestamp).calendar();return c.a.createElement(M.a,{span:8,key:n,"data-game-id":t.game.id,"data-twitch-video-id":t.video.id},c.a.createElement(P.a,{title:a,bordered:!1},c.a.createElement("a",{href:t.video.url,target:"_blank"},c.a.createElement("img",{src:e.getVideoThumbnail(t.video),style:{width:"100%"}})),c.a.createElement("span",null,t.summoner.name," playing ",t.champion.name),c.a.createElement("br",null),c.a.createElement("span",null,r)))});return c.a.createElement("div",{style:{padding:"30px"}},c.a.createElement(U.a,{gutter:8},t))}},{key:"getVideoThumbnail",value:function(e){return e.thumbnailImageUrl.replace("%{width}","800").replace("%{height}","450")}}]),t}(c.a.Component),_=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,this.getPageContent())}},{key:"getPageContent",value:function(){var e=this.props.response;return e?e&&0===e.gameVideos.length?"none found":c.a.createElement(W,{gameVideos:e.gameVideos}):"...loading"}}]),t}(c.a.Component),$=a(19),K=(a(218),a(282)),Q=a(284),X=a(278),Y=a(280),Z=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement(X.a,{type:this.props.type},c.a.createElement(Y.a,{to:this.props.to},this.props.children))}}]),t}(c.a.Component),ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={twitchLogin:a.props.twitchLogin,summonerName:a.props.summonerName,championName:a.props.championName},a.formSubmitChange=function(e){e.preventDefault();var t=a.props.form.getFieldValue("twitchLogin"),n=a.props.form.getFieldValue("summonerName"),r=a.props.form.getFieldValue("championName");a.setState({twitchLogin:t,summonerName:n,championName:r})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.twitchLogin,n=t.summonerName,r=t.championName,o={labelCol:{span:8},wrapperCol:{span:16}};return c.a.createElement(K.a,{onChange:this.formSubmitChange,onSubmit:this.formSubmitChange},c.a.createElement(K.a.Item,Object.assign({},o,{label:"Twitch.tv"}),e("twitchLogin",{initialValue:a})(c.a.createElement(Q.a,{size:"large",placeholder:"twitch login name"}))),c.a.createElement(K.a.Item,Object.assign({},o,{label:"Summoner Name"}),e("summonerName",{initialValue:n})(c.a.createElement(Q.a,{size:"large",placeholder:"LoL summoner name"}))),c.a.createElement(K.a.Item,Object.assign({},o,{label:"Champion Name"}),e("championName",{initialValue:r})(c.a.createElement(Q.a,{size:"large",placeholder:"LoL champion name"}))),c.a.createElement(K.a.Item,null,e("search")(c.a.createElement(Z,{to:"/lol/games/search/results/streamer/".concat(a,"/summoner/").concat(n,"/champion/").concat(r),type:"primary"},"Search"))))}}]),t}(c.a.Component),te=K.a.create({name:"Search_Games"})(ee),ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=void 0===this.state.twitchLogin;return c.a.createElement("div",null,c.a.createElement(U.a,null,c.a.createElement(M.a,{span:12,offset:6,style:{textAlign:"center"}},e?c.a.createElement($.a,{type:"loading"}):c.a.createElement(te,{twitchLogin:this.state.twitchLogin,summonerName:this.state.summonerName,championName:this.state.championName}))))}},{key:"componentDidMount",value:function(){var e=this;(function(){var e="".concat(E.api.endpoint,"/lol/games/search-defaults");return fetch(e).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){throw console.error("searchGames failed"+JSON.stringify(e)),"searchGames failed"})})().then(function(t){var a=t.twitchLogin,n=t.summonerName,r=t.championName;console.log("twitchLogin=".concat(a)),e.setState({twitchLogin:a,summonerName:n,championName:r})})}}]),t}(c.a.Component);!function(e){e.Hello="Hello",e.SearchLolGamesResult="SearchLolGamesResult"}(J||(J={}));var ne=function e(){Object(i.a)(this,e)};ne.SearchLolGamesResult={component:function(e){var t=function(t){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(r)))).state={searchGamesTimer:void 0},t}return Object(h.a)(a,t),Object(m.a)(a,[{key:"render",value:function(){var t={request:{summonerName:this.props.match.params.summonerName,twitchLogin:this.props.match.params.twitchLogin,championName:this.props.match.params.championName},response:this.props.response};return c.a.createElement(e,t)}},{key:"componentDidMount",value:function(){this.searchGames()}},{key:"searchGames",value:function(){this.props.searchGames({summonerName:this.props.match.params.summonerName,twitchLogin:this.props.match.params.twitchLogin,championName:this.props.match.params.championName})}},{key:"componentDidUpdate",value:function(e){e.match.params.summonerName===this.props.match.params.summonerName&&e.match.params.championName===this.props.match.params.championName&&e.match.params.twitchLogin===this.props.match.params.twitchLogin||this.searchGames()}}]),a}(c.a.Component),a=Object(p.b)(T,z)(t);return Object(F.a)(a)}(_),id:J.SearchLolGamesResult,path:"/lol/games/search/results/streamer/:twitchLogin/summoner/:summonerName/champion/:championName",title:"LoL Games"},ne.SearchLolGamesLanding={component:ae,id:J.SearchLolGamesResult,path:"/lol/games/search",title:"Search For LoL Games"};var re=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement(I.a,null,c.a.createElement(q.a,{exact:!0,path:"/",component:ne.SearchLolGamesLanding.component}),c.a.createElement(q.a,{exact:!0,path:ne.SearchLolGamesLanding.path,component:ne.SearchLolGamesLanding.component}),c.a.createElement(q.a,{path:ne.SearchLolGamesResult.path,component:ne.SearchLolGamesResult.component}))}}]),t}(c.a.Component),ce=Object(D.a)(re),oe=A.a.Content,se=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(A.a,{style:{minHeight:"100vh"}},c.a.createElement(A.a,null,c.a.createElement(oe,{style:{margin:"16px 16px"}},c.a.createElement(ce,null)," "))))}}]),t}(c.a.Component),ie=Object(D.a)(Object(p.b)(null,null)(se)),me=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement(p.a,{store:R()},c.a.createElement(f.a,null,c.a.createElement(ie,null)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[141,2,1]]]);
//# sourceMappingURL=main.bc3d6d2a.chunk.js.map